{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\carlo\\\\projects\\\\pomodoro-nextjs-hooks\\\\pomodoro-nextjs-hooks\\\\pages\\\\index.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport { useState, useEffect } from 'react';\nimport styles from '../styles/Home.module.css';\nimport { format } from 'date-fns';\nexport default function Home() {\n  const periodTime = 60 * 25;\n  const shortPause = 60 * 5;\n  const longPause = 60 * 10;\n  const {\n    0: customTime,\n    1: setCustomTime\n  } = useState(0);\n  const {\n    0: baseTime,\n    1: setBaseTime\n  } = useState(periodTime);\n  const {\n    0: timer,\n    1: setTimer\n  } = useState(baseTime);\n  const {\n    0: timeLeft,\n    1: setTimeLeft\n  } = useState(format(baseTime * 1000, 'mm:ss'));\n  const {\n    0: isActive,\n    1: setIsActive\n  } = useState(false);\n  const {\n    0: storeTimeOut,\n    1: setStoreTimeOut\n  } = useState(null);\n  useEffect(() => {\n    if (timer == 0) {\n      (function notifyMe() {\n        if (!(\"Notification\" in window)) {\n          alert(\"Este browser não suporta notificações de Desktop\");\n        } else if (Notification.permission === \"granted\") {\n          var notification = new Notification(\"TIME IS OVER!\");\n        } else if (Notification.permission !== 'denied') {\n          Notification.requestPermission(function (permission) {\n            if (permission === \"granted\") {\n              var notification = new Notification(\"TIME IS OVER!\");\n            }\n          });\n        }\n      })();\n    }\n  }, [timer]);\n  useEffect(() => {\n    if (isActive && timer >= 0) {\n      setStoreTimeOut(setTimeout(() => {\n        setTimer(timer - 1);\n        setTimeLeft(format(timer * 1000, 'mm:ss'));\n      }, 1000));\n    } else {\n      clearTimeout(storeTimeOut);\n    }\n  }, [timer, isActive]);\n  useEffect(() => {\n    resetTime();\n  }, [baseTime]);\n  useEffect(() => {\n    if (customTime > 0) {\n      let seconds = customTime * 60;\n      if (customTime == 60) seconds--;\n      setBaseTime(seconds);\n    }\n  }, [customTime]);\n\n  function resetTime() {\n    setIsActive(false);\n    setTimer(baseTime);\n    setTimeLeft(format(baseTime * 1000, 'mm:ss'));\n  }\n\n  return __jsx(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Pomodoro:\", timeLeft), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Hello Next\"), __jsx(\"button\", {\n    onClick: () => setBaseTime(periodTime),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"25\"), __jsx(\"button\", {\n    onClick: () => setBaseTime(longPause),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"10\"), __jsx(\"button\", {\n    onClick: () => setBaseTime(shortPause),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"5\"), __jsx(\"input\", {\n    type: \"number\",\n    min: \"0\",\n    max: \"60\",\n    onChange: e => setCustomTime(e.target.value),\n    value: customTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, timeLeft), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }), __jsx(\"button\", {\n    onClick: () => setIsActive(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"Start\"), __jsx(\"button\", {\n    onClick: () => setIsActive(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Stop\"), __jsx(\"button\", {\n    onClick: () => resetTime(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Reset\")));\n}","map":{"version":3,"sources":["C:/Users/carlo/projects/pomodoro-nextjs-hooks/pomodoro-nextjs-hooks/pages/index.jsx"],"names":["Head","useState","useEffect","styles","format","Home","periodTime","shortPause","longPause","customTime","setCustomTime","baseTime","setBaseTime","timer","setTimer","timeLeft","setTimeLeft","isActive","setIsActive","storeTimeOut","setStoreTimeOut","notifyMe","window","alert","Notification","permission","notification","requestPermission","setTimeout","clearTimeout","resetTime","seconds","container","e","target","value"],"mappings":"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","sourcesContent":["import Head from 'next/head'\nimport { useState, useEffect } from 'react'\nimport styles from '../styles/Home.module.css'\n\nimport {format} from 'date-fns'\n\nexport default function Home() {\n\n  const periodTime = 60 * 25\n  const shortPause = 60 * 5\n  const longPause = 60 * 10\n\n  const [ customTime, setCustomTime ] = useState(0)\n  const [ baseTime, setBaseTime ] = useState(periodTime)\n  const [ timer, setTimer ] = useState(baseTime);\n  const [ timeLeft, setTimeLeft ] = useState(format(baseTime * 1000, 'mm:ss'));\n  const [ isActive, setIsActive ] = useState(false);\n  const [ storeTimeOut, setStoreTimeOut ] = useState(null);\n\n  useEffect(() => {\n    if(timer == 0){\n\n    (function notifyMe() {\n      if (!(\"Notification\" in window)) {\n        alert(\"Este browser não suporta notificações de Desktop\");\n      }\n    \n      else if (Notification.permission === \"granted\") {\n        var notification = new Notification(\"TIME IS OVER!\");\n      }\n    \n      else if (Notification.permission !== 'denied') {\n        Notification.requestPermission(function (permission) {\n          if (permission === \"granted\") {\n            var notification = new Notification(\"TIME IS OVER!\");\n          }\n        });\n      }\n    })()\n  }\n\n  },[timer])\n\n  useEffect(() => {\n    if(isActive && timer >= 0){\n      setStoreTimeOut(setTimeout(()=> {\n        setTimer(timer - 1)\n        setTimeLeft(format(timer * 1000, 'mm:ss'))\n      }, 1000))\n    }else{\n      clearTimeout(storeTimeOut)\n    }\n  }, [timer, isActive]);\n\n  useEffect(() => {\n    resetTime()\n  }, [baseTime])\n\n  useEffect(() => {\n    if(customTime > 0){\n      let seconds = customTime * 60\n      if (customTime == 60) seconds--\n      setBaseTime(seconds)\n    }\n  }, [customTime])\n\n  function resetTime () {\n    setIsActive(false);\n    setTimer(baseTime);\n    setTimeLeft(format(baseTime * 1000, 'mm:ss'));\n  }\n\n  return (\n    <div className={styles.container}>\n      <Head>\n        <title>Pomodoro:{timeLeft}</title>\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n      <div>\n        <h1>Hello Next</h1>\n        <button onClick={() => setBaseTime(periodTime)}>25</button>\n        <button onClick={() => setBaseTime(longPause)}>10</button>\n        <button onClick={() => setBaseTime(shortPause)}>5</button>\n        <input type=\"number\" min=\"0\" max=\"60\"\n         onChange={e => setCustomTime(e.target.value)}\n         value={customTime}/>\n        <hr/>\n        <span>{timeLeft}</span>\n        <hr/>\n        <button onClick={() => setIsActive(true)}>Start</button>\n        <button onClick={() => setIsActive(false)}>Stop</button>\n        <button onClick={() => resetTime()}>Reset</button>\n      </div>\n    \n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}